import UIKit
import Charts
import CoreMotion

class ViewController: UIViewController {
    
    @IBOutlet weak var IMU_graph_view: LineChartView!
    @IBOutlet weak var Gyro_graph_view: LineChartView!

    var numbers : [[Double]] = [[257208.615999375, 0.013344192877411842, 0.011592388153076172, -0.007460951805114746, 0.07114668190479279, 0.029666000977158546, -0.007678999565541744], [257208.66578562502, -0.015082117170095444, -0.042365074157714844, 0.035449206829071045, -0.04331944137811661, 0.000860186293721199, 0.013537072576582432], [257208.715567625, -0.029289916157722473, 0.0029439330101013184, 0.0011022686958312988, -0.020876450464129448, 0.030570678412914276, -0.03126688301563263], [257208.76534962503, 0.011863922700285912, 0.0009461045265197754, 0.0023937225341796875, -0.010989200323820114, 0.05191271752119064, -0.02875472418963909], [257208.81513262502, 0.03139785677194595, -0.008948922157287598, -0.001468658447265625, -0.0707787573337555, -0.00313402246683836, 0.011618264950811863], [257208.864914625, -0.0046668145805597305, -0.002270817756652832, -0.002986907958984375, -0.09753528237342834, 0.09743892401456833, 0.027048887684941292], [257208.91469662503, 0.01779957115650177, -0.00422823429107666, -0.07260358333587646, 0.023318439722061157, 0.07404492050409317, 0.005508441478013992], [257208.964478625, 0.01516013965010643, -0.025764107704162598, 0.0014851689338684082, 0.04884617030620575, -0.1184944361448288, 0.016418613493442535], [257209.014260625, 0.027454081922769547, -0.017628252506256104, -0.00033223628997802734, -0.518338143825531, -0.8793960213661194, -0.1482081562280655], [257209.06404362503, 0.046100616455078125, -0.015791475772857666, 0.012630879878997803, -0.7627297639846802, -1.2987080812454224, -0.10375013947486877], [257209.113825625, -0.02904289960861206, 0.005003988742828369, 0.10202616453170776, -0.20843863487243652, 0.23741920292377472, 0.19817695021629333], [257209.16360762503, -0.08703014254570007, 0.04989480972290039, -0.030268967151641846, 1.6437422037124634, 3.272235155105591, 0.6279904246330261], [257209.21338962502, -0.0026045888662338257, 0.0286676287651062, -0.13430511951446533, 1.6116900444030762, 2.343024253845215, 0.5718088746070862], [257209.263172625, -0.0727761834859848, 0.04941964149475098, -0.05544853210449219, 0.08627930283546448, -0.3288085460662842, -0.2337169349193573], [257209.31295462503, 0.04772305488586426, -0.019996225833892822, 0.041980743408203125, -2.6106693744659424, -5.052530765533447, -1.2784509658813477], [257209.36273662501, 0.1044096052646637, -0.09272196888923645, 0.2820664644241333, -2.5029022693634033, -3.374135971069336, -0.73872309923172], [257209.412518625, -0.005009680986404419, -0.0571446418762207, 0.2809872627258301, 1.6565678119659424, 4.755760192871094, 1.2380521297454834], [257209.46230062502, 0.01212795078754425, 0.07395422458648682, -0.22002333402633667, 3.4795992374420166, 6.962873458862305, 1.7102234363555908], [257209.512083625, -0.05332496762275696, 0.1448109745979309, -0.56755530834198, 2.0354669094085693, 0.8627763986587524, 0.0988013818860054], [257209.56186562503, 0.17769712209701538, -0.001362621784210205, -0.35294222831726074, -4.259323596954346, -10.903072357177734, -2.7915289402008057], [257209.61164762502, 0.3683980107307434, -0.3318576216697693, 0.7306955456733704, -3.405461549758911, -4.434403896331787, -0.5605363249778748], [257209.66142604168, 0.7037010192871094, -0.3095337152481079, 0.2720825672149658, 7.283909797668457, 17.17551040649414, 5.501346111297607], [257209.71120804167, -0.21882933378219604, 0.2884700298309326, -1.5150718688964844, 4.4849395751953125, 0.3775540292263031, 0.8474822640419006], [257209.7609910417, 0.34652179479599, -0.07591462135314941, 0.2480984926223755, -6.798031330108643, -14.575984001159668, -3.324086904525757], [257209.81077304168, 0.1238209679722786, -0.4386143684387207, 1.2577333450317383, 1.7889912128448486, 7.218982696533203, 2.198751211166382], [257209.86055504167, 0.43077465891838074, 0.1403576135635376, -1.3899809122085571, 4.143526077270508, 4.124281883239746, 1.804656744003296], [257209.91033704169, -0.04137785732746124, -0.2991064190864563, 0.11626672744750977, -5.341458320617676, -10.890754699707031, -2.566298484802246], [257209.96011904167, 0.34341657161712646, -0.6315286755561829, 0.34337180852890015, 0.26529642939567566, 2.0837759971618652, 1.3950343132019043], [257210.0099020417, -0.09142851829528809, -0.07678687572479248, -0.7557541728019714, 0.10428595542907715, -0.5533536672592163, 1.119206190109253], [257210.05968404168, -0.07093091309070587, 0.42369401454925537, 0.006119489669799805, -0.10139529407024384, -1.8659006357192993, 0.29417380690574646], [257210.10946604167, -0.03383025527000427, 0.5399190187454224, 1.053274393081665, 1.2728633880615234, 3.5384507179260254, 0.5595077276229858], [257210.1592480417, -0.404231458902359, 0.7191312313079834, 0.8757035732269287, -2.7329342365264893, -1.1238090991973877, -2.614274024963379], [257210.20903004167, 0.4939960241317749, -0.14665460586547852, 0.2265247106552124, -5.899219036102295, -3.1062498092651367, -1.7956647872924805], [257210.25881304167, 0.033046647906303406, 0.06320315599441528, -1.326963186264038, -0.2771940231323242, 2.1171374320983887, 0.25801312923431396], [257210.3085950417, -0.09269915521144867, -0.21013468503952026, -1.9765565395355225, 3.6924068927764893, 1.9328334331512451, 0.7408956289291382], [257210.35837704167, 0.02319660782814026, 0.13540902733802795, -0.7822785973548889, 5.533935070037842, 1.702785849571228, 1.0116885900497437], [257210.4081590417, -0.2637536823749542, 0.7146774530410767, 0.4197854995727539, 5.372653484344482, 1.876895546913147, 2.095031499862671], [257210.45794104168, -0.966990053653717, 1.1898257732391357, 1.5492174625396729, 2.3616485595703125, 0.6966180205345154, -0.5519867539405823], [257210.50772404167, -0.8184905648231506, 0.9905579090118408, 1.6603572368621826, -1.7628120183944702, 1.2121353149414062, -3.096386194229126], [257210.5575060417, 0.3817531168460846, 0.3742550015449524, 0.2707664966583252, -4.670649528503418, 2.2619340419769287, -3.5034520626068115], [257210.60728804168, 2.146388292312622, -0.438113272190094, -1.8905236721038818, -1.4071916341781616, 0.20235811173915863, 0.5952661633491516], [257210.6570697917, 1.566697359085083, -0.9818205833435059, -0.6040433645248413, 1.2799030542373657, 0.1529383659362793, 3.4560391902923584], [257210.70685179168, 0.5552513599395752, -0.18851470947265625, -0.15304332971572876, -0.16119171679019928, -0.40789300203323364, 4.698362827301025], [257210.7566337917, -0.3723822832107544, 0.4271869659423828, 0.22436976432800293, -0.5010381937026978, -1.7630648612976074, 3.823324680328369], [257210.8064167917, -1.280929684638977, 0.8936402201652527, 0.3425061106681824, -1.9425729513168335, -2.189502239227295, 1.6908904314041138], [257210.85619879168, -1.895504355430603, 1.2121933698654175, 0.1878354549407959, -2.019066095352173, -2.7488529682159424, -3.080720901489258], [257210.9059807917, -0.6289716362953186, 1.1712266206741333, 0.3684501051902771, -1.6558855772018433, -1.437469720840454, -5.3877787590026855], [257210.95576279168, 1.0409965515136719, 0.792077898979187, 0.1704545021057129, -2.7516472339630127, -1.5587924718856812, -4.826132774353027]]
    
    override func viewDidLoad()
    {
        updateIMUGraph()
        updateGyroGraph()

    }


    func updateIMUGraph(){
        let data = LineChartData()
        
        var lineChartEntry0 = [ChartDataEntry]()
        var lineChartEntry1 = [ChartDataEntry]()
        var lineChartEntry2 = [ChartDataEntry]()
        
        for i in 0..<numbers.count {
        
        lineChartEntry0.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][1]) ?? 0.0))
        let line0 = LineChartDataSet(entries: lineChartEntry0, label: "First Dataset")
        data.addDataSet(line0)
        line0.setColor(UIColor.red)
        line0.setCircleColor(UIColor.red)
        line0.lineWidth = 0.5
        line0.circleRadius = 0.6
        line0.fillColor = UIColor.red
        
        lineChartEntry1.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][2]) ?? 0.0))
        let line1 = LineChartDataSet(entries: lineChartEntry1, label: "Second Dataset")
        data.addDataSet(line1)
        line1.setColor(UIColor.green)
        line1.setCircleColor(UIColor.green)
        line1.lineWidth = 0.5
        line1.circleRadius = 0.6
        line1.fillColor = UIColor.green
            
        lineChartEntry2.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][3]) ?? 0.0))
        let line2 = LineChartDataSet(entries: lineChartEntry2, label: "Second Dataset")
        data.addDataSet(line2)
        line2.setColor(UIColor.blue)
        line2.setCircleColor(UIColor.blue)
        line2.lineWidth = 0.5
        line2.circleRadius = 0.6
        line2.fillColor = UIColor.blue
            
        }
        
        self.IMU_graph_view.data = data
        self.IMU_graph_view.legend.enabled = false
        self.IMU_graph_view.leftAxis.axisMaximum = 1.5;
        self.IMU_graph_view.leftAxis.axisMinimum = -1.5;
        
    }
    
    func updateGyroGraph(){
        let data = LineChartData()
        
        var lineChartEntry0 = [ChartDataEntry]()
        var lineChartEntry1 = [ChartDataEntry]()
        var lineChartEntry2 = [ChartDataEntry]()
        
        for i in 0..<numbers.count {
            
            lineChartEntry0.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][4]) ?? 0.0))
            let line0 = LineChartDataSet(entries: lineChartEntry0, label: "First Dataset")
            data.addDataSet(line0)
            line0.setColor(UIColor.red)
            line0.setCircleColor(UIColor.red)
            line0.lineWidth = 0.5
            line0.circleRadius = 0.6
            line0.fillColor = UIColor.red
            
            lineChartEntry1.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][5]) ?? 0.0))
            let line1 = LineChartDataSet(entries: lineChartEntry1, label: "Second Dataset")
            data.addDataSet(line1)
            line1.setColor(UIColor.green)
            line1.setCircleColor(UIColor.green)
            line1.lineWidth = 0.5
            line1.circleRadius = 0.6
            line1.fillColor = UIColor.green
            
            lineChartEntry2.append(ChartDataEntry(x: Double(i), y: Double(numbers[i][6]) ?? 0.0))
            let line2 = LineChartDataSet(entries: lineChartEntry2, label: "Second Dataset")
            data.addDataSet(line2)
            line2.setColor(UIColor.blue)
            line2.setCircleColor(UIColor.blue)
            line2.lineWidth = 0.5
            line2.circleRadius = 0.6
            line2.fillColor = UIColor.blue
            
        }
        
        self.Gyro_graph_view.data = data
        self.Gyro_graph_view.legend.enabled = false
        
    }
}
